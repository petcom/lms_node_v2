# UI Team - Learning Events & Event Groups Specification

## Date: 2026-01-21
## From: UI Team
## To: API Team
## Priority: Medium
## Related Specs: UNIFIED_CONTENT_HIERARCHY_SPEC.md (supersedes this)

---

## Terminology Update

| Term | Definition |
|------|------------|
| **Module** | A logical grouping of learning units within a course |
| **LearningUnit** | A single piece of content/activity within a module (formerly "CourseModule") |

**Note:** This spec has been incorporated into the unified hierarchy. The concepts here are now:
- Learning Event Group → **Module** (with presentationRules)
- Learning Event → **LearningUnit attempt tracking** (via ModuleAccess + enhanced attempts)

See primary specs:
- `UI-2026-01-21-module-entity-request.md`
- `UI-2026-01-21-module-access-entity-request.md`

---

## Summary

We're proposing a dynamic learning delivery system based on **Modules** and **LearningUnits**. This enables adaptive, replayable learning experiences instead of rigid linear course progression.

## Specification Document

Full specification available at: `specs/LEARNING_EVENTS_SPEC.md`

---

## Core Concepts

### Learning Event
A single learning activity:
- Exposition (video, document, presentation)
- Exercise (flashcard, matching, practice)
- Quiz (low-stakes assessment)
- Exam (high-stakes assessment)

### Learning Event Group
A collection of events covering a module's material:
- Organized in phases (Introduction → Practice → Assessment)
- Events can be sequential, random, or learner-choice
- Gate event (usually exam) controls completion

---

## Key Data Structures

### LearningEvent

```typescript
{
  id: string,
  eventGroupId: string,
  type: 'exposition' | 'exercise' | 'quiz' | 'exam',
  title: string,
  contentType: 'module' | 'assessment' | 'exercise',
  contentId: string,              // Reference to actual content
  order: number | null,           // null = random eligible
  isRequired: boolean,
  isReplayable: boolean,
  prerequisites: string[],        // Event IDs
  completionCriteria: {...},
  weight: number,                 // 0-100, for group completion
  estimatedDuration: number       // minutes
}
```

### LearningEventGroup

```typescript
{
  id: string,
  courseId: string,
  title: string,
  order: number,
  events: LearningEvent[],
  structure: {
    layout: 'sequential' | 'flexible' | 'adaptive',
    phases: EventPhase[]
  },
  completionCriteria: {...},
  gateEvent: string,              // Event ID that gates completion
  adaptiveSettings: {...}
}
```

---

## Standard Event Group Template

```
PHASE 1: Introduction (Sequential)
├── Exposition: Core Content Video
└── Exposition: Supporting Reading

PHASE 2: Practice (Random/Learner Choice)
├── Exercise: Flashcard Review
├── Exercise: Matching Activity
├── Quiz: Knowledge Check 1
└── Quiz: Knowledge Check 2
    [Complete any 3 of 4]

PHASE 3: Assessment (Sequential)
└── Exam: Module Exam (Gate Event)
    [Must pass to complete group]
```

---

## Proposed API Endpoints

### Event Groups
```
GET    /api/v2/courses/:courseId/event-groups
GET    /api/v2/event-groups/:groupId
POST   /api/v2/courses/:courseId/event-groups
PUT    /api/v2/event-groups/:groupId
DELETE /api/v2/event-groups/:groupId
```

### Learning Events
```
GET    /api/v2/event-groups/:groupId/events
POST   /api/v2/event-groups/:groupId/events
PUT    /api/v2/events/:eventId
DELETE /api/v2/events/:eventId
```

### Progress Tracking
```
GET    /api/v2/event-groups/:groupId/progress
POST   /api/v2/events/:eventId/start
POST   /api/v2/events/:eventId/complete
GET    /api/v2/event-groups/:groupId/recommendations
```

---

## Questions for API Team

1. **Relationship to CourseModule**: Should LearningEvent wrap/extend CourseModule, or be a separate parallel entity?

2. **Content Reference**: Events reference content via `contentId`. Should this be a polymorphic reference, or typed per content type?

3. **Progress Storage**: Should progress be stored per-event or per-attempt? Both?

4. **Adaptive Logic**: Should recommendation logic live in API or be a separate service?

5. **Migration Path**: How should existing courses transition to event-based structure?

---

## Review Request

Please review the spec and provide feedback on:
1. Data model feasibility
2. API design preferences
3. Concerns about complexity
4. Suggested phasing for implementation

---

*This message was generated by the UI development team*
